# ===========================================================================
# Main Pipeline - Generic logs (not Beats)
# ===========================================================================
# This pipeline is for non-Beats inputs (HTTP, TCP, etc.)
# Beats inputs are handled by specialized pipelines (security-logs, etc.)
# ===========================================================================

input {
    # Example: HTTP input for generic logs
    # http {
    #     port => 8080
    # }

    # Example: TCP input
    # tcp {
    #     port => 5000
    # }

    # Beats input REMOVED - handled by security-logs pipeline on port 5044
}

filter {
    # Add generic filters here if needed
}

output {
    elasticsearch {
        hosts => "${ELASTICSEARCH_HOST_PORT}"
        user => "${ELASTIC_USERNAME}"
        password => "${ELASTIC_PASSWORD}"
        ssl_enabled => true
        ssl_verification_mode => "full"
        ssl_certificate_authorities => "/certs/ca.crt"

        # Dynamic index based on input type
        index => "logstash-%{+YYYY.MM.dd}"
    }
}
